<!-- Content Header (Page header) -->
<section class="content-header">
    <h1>
        業務報表
        <small></small>
    </h1>
    <ol class="breadcrumb">
        <li><a href="#"><i class="fa fa-dashboard"></i> 業務 </a></li>
        <li class="active">報表</li>
    </ol>
</section>
<!-- Main content -->
<section class="content">
    <!-- Your Page Content Here -->
    <div class="row">
        <div class="col-xs-12">
            <div class="box box-success">
                <!--<div class="box-header">
                    <h3 class="box-title"></h3>
                </div>-->
                <!-- /.box-header -->
                <div class="box-body">
                    <div class="row">
                        <div class="col-md-12 column">
                            <form role="form" class="form-horizontal" name="signup_form" novalidate>
                                <table border="0" cellpadding="0" cellspacing="0" class="table table-bordered customer">
                                    <tr>
                                        <td class="view_title">年份</td>
                                        <td class="view_content3">
                                            <autocomplete name="CUST_NAME" class="k-textbox" ng-model="vm.report.CUST_NAME" attr-placeholder="客戶名稱" click-activation="true" data="autocomplete.allCustomersName" on-type="autocomplete.searchCustomer" on-select="autocomplete.assignCustomer" required></autocomplete>
                                            <br />
                                            <div class="error"
                                                 ng-show="signup_form.CUST_NAME.$invalid && signup_form.submitted">
                                                <small class="error"
                                                       ng-show="signup_form.CUST_NAME.$error.required">
                                                    客戶名稱為必填欄位!!
                                                </small>
                                            </div>
                                        </td>
                                        <td class="view_title">商品名稱</td>
                                        <td class="view_content3">
                                            <autocomplete name="PROD_NAME" class="k-textbox" ng-model="vm.report.PROD_NAME" attr-placeholder="商品名稱" click-activation="true" data="autocomplete.allProductsName" on-type="autocomplete.searchProduct" on-select="autocomplete.assignProduct" required></autocomplete>
                                            <br />
                                            <div class="error"
                                                 ng-show="signup_form.PROD_NAME.$invalid && signup_form.submitted">
                                                <small class="error"
                                                       ng-show="signup_form.PROD_NAME.$error.required">
                                                    商品名稱為必填欄位!!
                                                </small>
                                            </div>
                                        </td>
                                        <td class="view_content3">
                                            <button type="button" class="btn btn-success block_inline btn-flat" ng-click="vm.fetchData()">查詢</button>
                                            <button type="button" class="btn btn-success block_inline btn-flat" ng-click="vm.printTable()">列印</button>
                                            <br />
                                        </td>
                                    </tr>
                                </table>
                            </form>
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-md-12 column" id="printTable2">
                            <table class="table table-condensed table-bordered" ng-repeat="salesData in vm.report.DATA">
                                <tr>
                                    <td><h3>{{salesData[0].SALE_NAME}}&nbsp;({{salesData[0].SALE_ID}})</h3></td>
                                    <td style="text-align: right;"><h3>總業績(金額):&nbsp;{{salesData[0].TOTAL}}</h3></td>
                                </tr>
                                <tr>
                                    <td colspan="2">
                                        <table class="table table-condensed table-bordered">
                                            <thead>
                                                <tr>
                                                    <th>
                                                        出貨日期
                                                    </th>
                                                    <th>
                                                        傳票號碼
                                                    </th>
                                                    <th>
                                                        客戶代號
                                                    </th>
                                                    <th>
                                                        業務員代號
                                                    </th>
                                                    <th>
                                                        業務員姓名
                                                    </th>
                                                    <th>
                                                        未稅金額
                                                    </th>
                                                    <th>
                                                        稅額
                                                    </th>
                                                    <th>
                                                        含稅金額
                                                    </th>
                                                </tr>
                                            </thead>
                                            <tbody>
                                                <tr ng-repeat="item in salesData">
                                                    <td>
                                                        {{item.DATE_SALE}}
                                                    </td>
                                                    <td>
                                                        {{item.VOU_SALE}}
                                                    </td>
                                                    <td>
                                                        {{item.CUST_ID}}
                                                    </td>
                                                    <td>
                                                        {{item.SALE_ID}}
                                                    </td>
                                                    <td>
                                                        {{item.SALE_NAME}}
                                                    </td>
                                                    <td>
                                                        {{item.UTAX}}
                                                    </td>
                                                    <td>
                                                        {{item.TAX}}
                                                    </td>
                                                    <td>
                                                        {{item.AMT}}
                                                    </td>
                                                </tr>
                                            </tbody>
                                        </table>
                                    </td>
                                </tr>
                            </table>

                        </div>
                    </div>
                </div><!-- /.box-body -->
            </div><!-- /.box -->
        </div>

    </div>



</section><!-- /.content -->
